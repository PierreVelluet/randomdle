<div class="container">
  <div class="themed-container" [class]="theme">
    <div class="progress-container">
      <div
        class="progress-bar"
        [style.width]="(guessedCharacters.length / 7) * 100 + '%'"
        [style.background]="getProgressBarColor(guessedCharacters.length)"
      ></div>
    </div>
    <div [class]="theme + '_progress-text'">
      {{ guessedCharacters.length }} / 7 essai{{
        guessedCharacters.length > 1 ? "s" : ""
      }}
    </div>
  </div>
  <table class="table">
    <thead>
      <tr>
        <th
          *ngFor="let header of headers"
          [ngClass]="{
            'small-text': header.label.length > 8
          }"
          [class]="theme + '_header_cell'"
        >
          <span
            containerClass="{{ theme }}-tooltip"
            [tooltip]="header.tooltip"
            [container]="'body'"
          >
            {{ header.label }}
          </span>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let character of guessedCharacters; let rowIndex = index">
        <td *ngFor="let header of headers; let colIndex = index">
          <app-guess-block
            [theme]="theme"
            [status]="character[header.key].status"
            [attribute]="character[header.key].value"
            [ngClass]="{
              animate__animated: true,
              animate__fadeIn: true
            }"
            [ngStyle]="{
              'animation-delay': colIndex * 0.5 + 's'
            }"
          >
          </app-guess-block>
        </td>
      </tr>
    </tbody>
  </table>
</div>
